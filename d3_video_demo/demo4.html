<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>柱形图</title>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <style>
        .axis path,
        .axis line {
            fill: none;
            stroke: black;
            shape-rendering: crispEdges;
        }
        .axis text {
            font-family: sans-serif;
            font-size: 11px;
        }
        .myRect {
            fill: steelblue;
        }
        .myText {
            fill: white;
            text-anchor: middle;
        }
    </style>
</head>
<body>
<script>
var body = d3.select('body');

var dataset = [30, 40, 70, 50, 10];
var width = 400;
var height = 400;

var svg = body.append('svg')
            .attr('width', width)
            .attr('height', height);

// 1. 比例尺
var yScale = d3.scale.linear()
                .domain([100, 0])
                .range([0, 250]);


var xScale = d3.scale.ordinal()
                .domain([0,1,2,3,4,5,6])
                .rangeRoundBands([0,300]);
                // .range([10,11,12,13,14,15,16]);

// 2. 坐标轴

var xAxis = d3.svg.axis()
                .scale(xScale)
                .orient('bottom');

var gxAxis = svg.append('g')
                .attr('class', 'axis')
                .attr('transform', 'translate(30,300)')
                .call(xAxis)


var yAxis = d3.svg.axis()
                .scale(yScale)
                .orient('left');

var gyAxis = svg.append('g')
                .attr('class', 'axis')
                .attr('transform', 'translate(30,50)')
                .call(yAxis)

// 3. 完整的柱形图


// var rect = svg.selectAll('.myRect')
//                 .data(dataset)
//                 .enter()
//                 .append('rect')
//                 .attr('class', 'myRect')
//                 .attr('x', function (d, i) {
//                     return 20 + 35 * i;
//                 })
//                 .attr('y', function (d) {
//                     return height - 0 - d;
//                 })
//                 .attr('width', 30)
//                 .attr('height', function (d) {
//                     return d;
//                 })


</script>
</body>
</html>